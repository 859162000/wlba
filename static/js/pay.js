// Generated by CoffeeScript 1.7.1
(function() {
  require.config({
    paths: {
      jquery: 'lib/jquery.min'
    }
  });

  require(['jquery'], function($) {
    return $('#pay').click(function(e) {
      var amount, gate_id;
      e.preventDefault();
      amount = $('#amount').val();
      gate_id = $('#gate_id').val();
      return $.ajax({
        url: '/api/pay/',
        data: {
          amount: amount,
          gate_id: gate_id
        },
        type: 'post'
      }).done(function(json) {
        var form, input, name, value, _ref;
        form = $('#huifu-form');
        while (form.firstChild) {
          form.removeChild(form.firstChild);
        }
        _ref = json['form']['post'];
        for (name in _ref) {
          value = _ref[name];
          input = $('<input>').attr('type', 'hidden').attr('name', name).val(value);
          $('#huifu-form').append($(input));
        }
        $('#huifu-form').attr('action', json['form']['url']);
        return $('#huifu-form').submit();
      });
    });
  });

}).call(this);

//# sourceMappingURL=pay.map
