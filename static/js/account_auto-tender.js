// Generated by CoffeeScript 1.8.0
(function() {
  require.config({
    paths: {
      jquery: 'lib/jquery.min',
      'jquery.form': 'lib/jquery.form'
    },
    shim: {
      'jquery.form': ['jquery']
    }
  });

  require(['jquery', 'jquery.form'], function($, form) {
    $('#dete-start').val($('#selectInput').val());
    $('#dete-end').val($('#selectInput1').val());
    $('#invest-money').blur(function() {
      var checkStatus, r, self, val;
      self = $('#invest-money');
      val = $.trim(self.val());
      checkStatus = false;
      if (val !== '') {
        if (val < 200) {
          $('.error-style').text('投标金额不能小于200');
          checkStatus = false;
        } else {
          if (parseInt(val) > parseInt($('#invest-total').val())) {
            $('.error-style').text('投标金额必须小于账户可用余额!');
            checkStatus = false;
          } else {
            r = /^[1-9]\d*00(\.00|\.0)?$/;
            if (!r.test(val)) {
              $('.error-style').text('投标金额必须是 100 的倍数!');
              checkStatus = false;
            } else {
              $('.error-style').text('');
              checkStatus = true;
            }
          }
        }
      } else {
        $('.error-style').text('请输入投标金额');
        checkStatus = false;
      }
      return checkStatus;
    });
    $('.add-ben').click(function() {
      var self, val;
      self = $('#invest-money');
      val = $.trim(self.val());
      if (val === '' || val < 100) {
        val = 100;
      }
      if (parseInt(val) + 100 <= parseInt($('#invest-total').val())) {
        self.val(parseInt(val) + 100);
        return $('.error-style').text('');
      }
    });
    $('.subtract').click(function() {
      var self, val;
      self = $('#invest-money');
      val = $.trim(self.val());
      if ($('.error-style').text() === '') {
        if (parseInt(val) - 100 >= 200) {
          return self.val(parseInt(val) - 100);
        }
      }
    });
    $('.income-range').blur(function() {
      var r, self, val;
      self = $('#scope-min');
      val = $.trim(self.val());
      r = /^\+?[1-9]\d*$/;
      if (val !== '') {
        if (!r.test(val)) {
          $('.error-style').text('收益范围请输入正整数');
          return false;
        } else if (Number(val) > Number($.trim($('#scope-max').val()))) {
          $('.error-style').text('请填写正确收益范围');
          return false;
        } else {
          return $('.error-style').text('');
        }
      } else {
        return $('.error-style').text('请填写收益范围');
      }
    });
    $('.tender-ul-left li select').change(function() {
      if (Number($('#dete-start').val()) > Number($('#dete-end').val())) {
        $('.error-style').text('请选择正确收益期限');
        return false;
      } else {
        return $('.error-style').text('');
      }
    });
    return $('#submit').click(function() {
      $('#invest-money').blur();
      if ($('.error-style').text() === '') {
        $('.income-range').blur();
      }
      if (Number($('#dete-start').val()) > Number($('#dete-end').val())) {
        $('.error-style').text('请选择正确收益期限');
        return false;
      }
      if ($('.error-style').text() === '') {
        if ($('#agree').is(':checked')) {
          return $('#tenderForm').ajaxSubmit(function(data) {
            return $('.error-style').text(data.message);
          });
        } else {
          return alert('请同意协议');
        }
      }
    });
  });

}).call(this);

//# sourceMappingURL=account_auto-tender.js.map
