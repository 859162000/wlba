// Generated by CoffeeScript 1.7.1
(function() {
  require.config({
    paths: {
      jquery: 'lib/jquery.min',
      'jquery.modal': 'lib/jquery.modal.min',
      'jquery.placeholder': 'lib/jquery.placeholder'
    },
    shim: {
      'jquery.modal': ['jquery'],
      'jquery.placeholder': ['jquery']
    }
  });

  require(['jquery'], function($) {
    $('#withdraw').click(function(e) {
      var amount;
      e.preventDefault();
      amount = $('#amount').val();
      return $.ajax({
        url: '/api/withdraw/',
        data: {
          amount: amount
        },
        type: 'post'
      }).done(function(json) {
        var form, input, name, value, _ref;
        form = $('#huifu-form');
        while (form.firstChild) {
          form.removeChild(form.firstChild);
        }
        _ref = json['form']['post'];
        for (name in _ref) {
          value = _ref[name];
          input = $('<input>').attr('type', 'hidden').attr('name', name).val(value);
          $('#huifu-form').append($(input));
        }
        $('#huifu-form').attr('action', json['form']['url']);
        return $('#huifu-form').submit();
      });
    });
    return $('#add-card-button').click(function() {
      return $(this).modal();
    });
  });

}).call(this);

//# sourceMappingURL=withdraw.map
