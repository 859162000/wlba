// Generated by CoffeeScript 1.7.1
(function() {
  require.config({
    paths: {
      jquery: 'lib/jquery.min'
    }
  });

  require(['jquery', 'lib/backend'], function($, backend) {
    $('#validate_method').change(function(e) {
      var selected, value;
      selected = $(e.target).children('option:selected')[0];
      value = $(selected).val();
      console.log(value);
      if (value === '手机') {
        $('#email-form').hide();
        return $('#phone-form').show();
      } else if (value === '邮箱') {
        $('#email-form').show();
        return $('#phone-form').hide();
      }
    });
    $('#sendMailButton').click(function(e) {
      var target;
      target = $(e.target).attr('data-url');
      return $.post(target).done(function() {
        $('#sendMail').hide();
        return $('#sendMailDone').show();
      }).fail(function() {
        return console.log('Mail send failed');
      });
    });
    $('#sendValidateCodeButton').click(function(e) {
      var target;
      target = $(e.target).attr('data-url');
      return $.post(target).done(function() {
        return $('#nextStep').prop('disabled', false);
      });
    });
    return $('#nextStep').click(function(e) {
      var target, validate_code;
      target = $(e.target).attr('data-url');
      validate_code = $('input[name="validate_code"]').val();
      return $.post(target, {
        "validate_code": validate_code
      }).done(function() {
        return window.location = '/accounts/password/reset/set_password/';
      }).fail(function() {
        return console.log('验证失败!');
      });
    });
  });

}).call(this);

//# sourceMappingURL=resetPasswordValidateUser.map
