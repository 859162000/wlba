// Generated by CoffeeScript 1.7.1
(function() {
  define(['jquery', 'underscore', 'knockout'], function($, _, ko) {
    var viewModel;
    viewModel = (function() {
      function viewModel(context) {
        var self;
        self = this;
        self.columns = _(context.columns).map(function(item, index) {
          return _({
            sortable: false
          }).extend(item);
        });
        self.sortedColumn = ko.observable({
          column: null,
          order: 'asc'
        });
        self.data = ko.observable();
        self.events = {};
        if (_.has(context, 'events')) {
          _(self.events).extend(context.events);
        }
        self.sortHandler = function(column) {
          var order, sortedColumn;
          sortedColumn = self.sortedColumn();
          order = 'asc';
          if (sortedColumn.column && sortedColumn.column.name === column.name) {
            if (sortedColumn.order === 'asc') {
              order = 'dsc';
            }
            self.sortedColumn({
              column: column,
              order: order
            });
          } else {
            self.sortedColumn({
              column: column,
              order: 'asc'
            });
          }
          if (_.has(self.events, 'sortHandler')) {
            return self.events.sortHandler(column, order);
          }
        };
      }

      return viewModel;

    })();
    return {
      viewModel: viewModel
    };
  });

}).call(this);

//# sourceMappingURL=table.map
