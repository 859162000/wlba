// Generated by CoffeeScript 1.7.1
(function() {
  define(['jquery', 'underscore'], function($, _) {
    var element, parent, parentHeight, selfHeight, setTop;
    element = $('*[data-role=float]');
    parent = element.parent().parent();
    element.parent().css('position', 'relative');
    parentHeight = parent.height() - 15;
    selfHeight = element.height();
    setTop = function() {
      var parentTop, scrollTop;
      if (!element || selfHeight >= parentHeight) {
        return;
      }
      scrollTop = $(window.document).scrollTop();
      parentTop = parent.offset().top;
      element.css('width', element.width());
      element.css('position', 'absolute');
      if (scrollTop < parentTop) {
        return element.css('top', 0);
      } else if (scrollTop - parentTop + selfHeight < parentHeight) {
        return element.css('top', scrollTop - parentTop);
      } else if (scrollTop - parentTop + selfHeight > parentHeight) {
        return element.css('top', parentHeight - selfHeight);
      }
    };
    return $(window.document).scroll(function(e) {
      return setTop();
    });
  });

}).call(this);

//# sourceMappingURL=autofloat.map
