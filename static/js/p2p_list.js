// Generated by CoffeeScript 1.9.3
(function() {
  require.config({
    paths: {
      jquery: 'lib/jquery.min',
      'underscore': 'lib/underscore-min'
    },
    shim: {
      'jquery.modal': ['jquery']
    }
  });

  require(['jquery', 'lib/countdown'], function($, countdown) {
    var fetchCookie, setCookie;
    $('.container').on('click', '.panel-p2p-product', function() {
      var url;
      url = $('.panel-title-bar a', $(this)).attr('href');
      return window.location.href = url;
    });
    $('.p2pinfo-list-box').on('mouseenter', function(e) {
      var target;
      target = e.currentTarget.lastChild.id || e.currentTarget.lastElementChild.id;
      return $('#' + target).show();
    }).on('mouseleave', function(e) {
      var target;
      target = e.currentTarget.lastChild.id || e.currentTarget.lastElementChild.id;
      return $('#' + target).hide();
    }).on('click', function() {
      var url;
      url = $('.p2pinfo-title-content>a', $(this)).attr('href');
      return window.location.href = url;
    });
    fetchCookie = function(name) {
      var arr, reg;
      reg = new RegExp("(^| )" + name + "=([^;]*)(;|$)");
      if (arr = document.cookie.match(reg)) {
        return unescape(arr[2]);
      } else {
        return null;
      }
    };
    setCookie = function(key, value, day) {
      var date;
      date = new Date();
      date.setTime(date.getTime() + day * 24 * 60 * 60 * 1000);
      document.cookie = key + "=" + value + ";expires=" + date.toGMTString();
      return console.log(document.cookie);
    };
    $('.p2p-body-close').on('click', function() {
      $('.p2p-mask-warp').hide();
      return setCookie('p2p_mask', 'show', 15);
    });
    return (function(canShow) {
      if (!canShow) {
        return $('.p2p-mask-warp').show();
      }
    })(fetchCookie('p2p_mask'));
  });

}).call(this);
