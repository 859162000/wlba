var wlb=function(){function Mixin(a){this.bridge=a}function ready(a){function b(){window.WebViewJavascriptBridge?c({callback:"app",data:WebViewJavascriptBridge}):(document.addEventListener("WebViewJavascriptBridgeReady",function(){c({callback:"app",data:WebViewJavascriptBridge})},!1),c({callback:"other",data:null}))}function c(b){var c;b.callback&&"app"==b.callback&&(c=new Mixin(b.data),c._init());try{a[b.callback](c)}catch(d){console.log("请传入正确的参数格式如{app: function(){}, other: function(){}}, 目前却少 "+b.callback)}}window.onload=function(){setTimeout(function(){b()},200)}}return Mixin.filterJSON=function(target){var u=navigator.userAgent,newJSON=target;if(u.indexOf("Android"))try{newJSON=eval("("+target+")")}catch(e){}return newJSON},Mixin.prototype={_init:function(){this.bridge.init(function(a,b){var c={init:"true"};b(c)})},_setData:function(a,b){var c={post:{},callback:null},d=Object.prototype.toString;if("[object Object]"==d.call(a))for(var e in a)c.post[e]=a[e];return"[object Function]"==d.call(a)?(c.callback=a,c):(c.callback="[object Function]"==d.call(b)?b:null,c)},loginApp:function(a,b){var c=this._setData(a,b);this.bridge.callHandler("loginApp",c.post,function(a){c.callback&&c.callback(a)})},registerApp:function(a,b){var c=this._setData(a,b);this.bridge.callHandler("registerApp",c.post,function(a){c.callback&&c.callback(a)})},firstLoadWebView:function(a,b){var c=this._setData(a,b);this.bridge.callHandler("firstLoadWebView",c.post,function(a){c.callback&&c.callback(a)})},jumpToManageMoney:function(a){this.bridge.callHandler("jumpToManageMoney",function(b){a&&a(b)})},jumpToDiscoverView:function(a){this.bridge.callHandler("jumpToDiscoverView",function(b){a&&a(b)})},authenticated:function(a,b){var c=this._setData(a,b);this.bridge.callHandler("authenticated",c.post,function(a){var b=Mixin.filterJSON(a);c.callback&&c.callback(b)})},shareData:function(a){this.bridge.registerHandler("shareData",function(b,c){c(a)})},touchShare:function(a,b){var c=this._setData(a,b);this.bridge.callHandler("touchShare",c.post,function(a){var b=Mixin.filterJSON(a);c.callback&&c.callback(b)})},sendUserInfo:function(a,b){var c=this._setData(a,b);this.bridge.callHandler("sendUserInfo",{},function(a){var b=Mixin.filterJSON(a);c.callback&&c.callback(b)})}},{ready:ready}}();