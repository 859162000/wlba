{% extends 'manage/base.html' %}
{% block styles %}
  <style>
    .deckgrid[deckgrid]::before {
      /* Specifies that the grid should have a maximum of 4 columns. Each column will have the classes 'column' and 'column-1-4' */
      content: '3 .column.column-1-3';
      font-size: 0; /* See https://github.com/akoenig/angular-deckgrid/issues/14#issuecomment-35728861 */
      visibility: hidden;
    }

    .deckgrid .column {
      float: left;
    }

    .deckgrid .column-1-3 {
      width: 33.33%;
      padding: 10px;
    }
    .deckgrid .ng-scope {
      margin-bottom: 20px;
    }
  </style>
{% endblock %}
{% block content %}
  {% include 'manage/include/content_header.html' %}
  <div ng-controller="MaterialCtl">
    <div class="ui top attached tabular menu">
      <a class="active item" data-tab="news">图文消息</a>
      <a class="item" data-tab="image">图片库</a>
    </div>
    <div class="ui bottom attached active tab segment" data-tab="news">
      <div>
        <p><span ng-bind="data.materials_data.count.news_count"></span></p>
      </div>

      <div masonry>
          <div class="masonry-brick" ng-repeat="brick in bricks">
              <img ng-src="{{ brick.src }}" alt="A masonry brick">
          </div>
      </div>


{#      <div masonry="{ transitionDuration: '0.4s' }">#}
{#        <div class="ui card masonry-brick" ng-repeat="card in data.news" ng-init="item = card.content.news_item[0]">#}
{#          <div class="image">#}
{#            <img src="http://f.hiphotos.baidu.com/image/pic/item/8b13632762d0f7035486c57d0bfa513d2697c55f.jpg">#}
{#          </div>#}
{#          <div class="content">#}
{#            <div class="header">#}
{#              <span ng-bind="item.title"></span>#}
{#            </div>#}
{#          </div>#}
{#          <div class="content" ng-show="card.content.news_item.length > 1">#}
            {#          <div no-scope-repeat items='data.news_item.slice(1)'></div>#}
{#            <div class="ui large list">#}
{#              <div class="item"#}
{#                   news-item-repeat#}
{#                   item="item"#}
{#                   data-ng-repeat="item in card.content.news_item.slice(1)"#}
{#                   style="display: table;">#}
{#              </div>#}
{#            </div>#}
{#          </div>#}
{#          <div ng-bind="card.media_id"></div>#}
{##}
{#          <div class="extra content">#}
{#            <a class="right floated">删除</a>#}
{#            <a>#}
{#              编辑#}
{#            </a>#}
{#          </div>#}
{#        </div>#}
{#      </div>#}

    </div>
    <div class="ui bottom attached tab segment" data-tab="image">
      <p><span ng-bind="data.materials_data.count.image_count"></span></p>
    </div>
  </div>
{% endblock %}

{% block scripts %}
{#  <script type="text/javascript" src="/static/js/lib/angular.min.js"></script>#}
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular.min.js"></script>
{#  <script type="text/javascript" src="/static/js/lib/angular-deckgrid.min.js"></script>#}
  <script type="text/javascript" src="/static/js/lib/masonry.pkgd.min.js"></script>
  <script type="text/javascript" src="/static/js/lib/angular-masonry.min.js"></script>
  <script type="text/javascript" src="/static/src/admin/weixin.js"></script>
  <script type="text/javascript" src="/static/src/admin/weixin_material.js"></script>
{% endblock %}