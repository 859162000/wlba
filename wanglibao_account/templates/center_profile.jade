extends center_base
-load formatters


block head
  - with '个人资料' as title
  include global/g_head
  -endwith


block sidebar
  - with '个人资料' as activeItem
  include include/center_sidebar
  -endwith


block main
  .c-main-white.c-auto-height.c-layout
    .c-profile-alert#c-profile-alert
      form#add-address-form
        input#address_id(type="hidden", name="address_id")
        .c-profile-alert-head
          .alert-title 添加/修改收货信息
        .c-profile-alert-form
          .form-row
            input(placeholder='收货人姓名', type='text',name='address_name').input-type-text
            .form-row-error
          .form-row
            input(placeholder='联系电话', type='text', name='phone_number').input-type-text
            .form-row-error
          .form-row
            input(placeholder='收货地址', type='text', name='address_address').input-type-text
            .form-row-error
          .form-row
              input#default-checkbox(type='checkbox', checked="checked", name="default_checkbox")
              设为默认地址
        .c-profile-alert-submit
          input(type='submit', value='确认添加').alert-submit



    .c-profile-means

      .pro-means-head
        .t-d10.font-m 认证资料

      .pro-means-content.clearfix
        .fl.pro-layout
          .means-item
            .means-title 真实姓名
            if user.wanglibaouserprofile.name
              .means-content {{user.wanglibaouserprofile.name | safe_name}}
            else
              a(href='').means-content.means-blue 立即实名
          .means-item
            .means-title 手机号码
            .means-content {{user | display_name}}
          .means-item
            .means-title 银行卡号
            .means-content 中国工商银行 尾号449

        .fl.pro-layout
          .means-item
            .means-title 身份证号
            if user.wanglibaouserprofile.id_number
              .means-content {{user.wanglibaouserprofile.id_number | safe_id}}
            else
              a().means-content.means-blue 立即实名


    .c-profile-info

      .pro-means-head.clearfix
        .t-d10.font-m.fl 收货信息
        a(href='#c-profile-alert').add-info.fr.add-address
          i.iconfont.icon-circle-add
          |添加

      .pro-info-lists
        for address in address_list
          .pro-list.clearfix
            .fl.pro-list-left
              .means-item
                .means-title 收货人
                .means-content {{address.name}}
              .means-item
                .means-title 联系电话
                .means-content {{address.phone_number}}
              .means-item
                .means-title 收货地址
                .means-content {{address.address}}
            .fr
              .pro-info-add
                .add-info.fr.delete-add(data-id='{{address.id}}')
                  i.iconfont.icon-jiaoyimima03.font-s
                  |删除
                a(href='#c-profile-alert').add-info.fr.edit-address(data-id='{{address.id}}',data-name='{{address.name}}', data-phone='{{address.phone_number}}', data-address='{{address.address}}', data-default='{{address.is_default}}')
                  i.iconfont.icon-edit.font-s
                  |修改
                if address.is_default == True
                  .add-info.fr
                    i.iconfont.icon-greenRight.font-s.moren
                    |默认
                else
                  .add-info.fr
                    i.iconfont.icon-greenRight.font-s
                    |默认

  script.
      require(['/static/src/pc/address.js?v=2'])
